{"ast":null,"code":"var _jsxFileName = \"/Users/savanasathre/CodingApril/youtube-react-master/src/containers/Trending/Trending.js\";\nimport React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as videoActions from \"../../store/actions/video\";\nimport { allMostPopularVideosLoaded, getMostPopularVideos, getMostPopularVideosNextPageToken } from '../../store/reducers/videos';\nimport { getYoutubeLibraryLoaded } from '../../store/reducers/api';\nimport { VideoList } from '../../components/VideoList/VideoList';\n\nclass Trending extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.fetchMoreVideos = () => {\n      const nextPageToken = this.props.nextPageToken;\n\n      if (this.props.youtubeLibraryLoaded && nextPageToken) {\n        this.props.fetchMostPopularVideos(12, true, nextPageToken);\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.fetchTrendingVideos();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.youtubeLibraryLoaded !== this.props.youtubeLibraryLoaded) {\n      this.fetchTrendingVideos();\n    }\n  }\n\n  render() {\n    const loaderActive = this.shouldShowLoader();\n    return /*#__PURE__*/React.createElement(VideoList, {\n      bottomReachedCallback: this.fetchMoreVideos,\n      showLoader: loaderActive,\n      videos: this.props.videos,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    });\n  }\n\n  fetchTrendingVideos() {\n    if (this.props.youtubeLibraryLoaded) {\n      this.props.fetchMostPopularVideos(20, true);\n    }\n  }\n\n  shouldShowLoader() {\n    return !this.props.allMostPopularVideosLoaded;\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    videos: getMostPopularVideos(state),\n    youtubeLibraryLoaded: getYoutubeLibraryLoaded(state),\n    allMostPopularVideosLoaded: allMostPopularVideosLoaded(state),\n    nextPageToken: getMostPopularVideosNextPageToken(state)\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  const fetchMostPopularVideos = videoActions.mostPopular.request;\n  return bindActionCreators({\n    fetchMostPopularVideos\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Trending);","map":{"version":3,"sources":["/Users/savanasathre/CodingApril/youtube-react-master/src/containers/Trending/Trending.js"],"names":["React","bindActionCreators","connect","videoActions","allMostPopularVideosLoaded","getMostPopularVideos","getMostPopularVideosNextPageToken","getYoutubeLibraryLoaded","VideoList","Trending","Component","fetchMoreVideos","nextPageToken","props","youtubeLibraryLoaded","fetchMostPopularVideos","componentDidMount","fetchTrendingVideos","componentDidUpdate","prevProps","render","loaderActive","shouldShowLoader","videos","mapStateToProps","state","mapDispatchToProps","dispatch","mostPopular","request"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,kBAAR,QAAiC,OAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,KAAKC,YAAZ,MAA8B,2BAA9B;AACA,SACEC,0BADF,EAEEC,oBAFF,EAGEC,iCAHF,QAIO,6BAJP;AAKA,SAAQC,uBAAR,QAAsC,0BAAtC;AACA,SAAQC,SAAR,QAAwB,sCAAxB;;AAEA,MAAMC,QAAN,SAAuBT,KAAK,CAACU,SAA7B,CAAuC;AAAA;AAAA;;AAAA,SAqBrCC,eArBqC,GAqBnB,MAAM;AAAA,YACfC,aADe,GACE,KAAKC,KADP,CACfD,aADe;;AAEtB,UAAI,KAAKC,KAAL,CAAWC,oBAAX,IAAmCF,aAAvC,EAAsD;AACpD,aAAKC,KAAL,CAAWE,sBAAX,CAAkC,EAAlC,EAAsC,IAAtC,EAA4CH,aAA5C;AACD;AACF,KA1BoC;AAAA;;AACrCI,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,mBAAL;AACD;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAIA,SAAS,CAACL,oBAAV,KAAmC,KAAKD,KAAL,CAAWC,oBAAlD,EAAwE;AACtE,WAAKG,mBAAL;AACD;AACF;;AAEDG,EAAAA,MAAM,GAAG;AACP,UAAMC,YAAY,GAAG,KAAKC,gBAAL,EAArB;AAEA,wBAAQ,oBAAC,SAAD;AACN,MAAA,qBAAqB,EAAE,KAAKX,eADtB;AAEN,MAAA,UAAU,EAAEU,YAFN;AAGN,MAAA,MAAM,EAAE,KAAKR,KAAL,CAAWU,MAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AAID;;AAUDN,EAAAA,mBAAmB,GAAG;AACpB,QAAI,KAAKJ,KAAL,CAAWC,oBAAf,EAAqC;AACnC,WAAKD,KAAL,CAAWE,sBAAX,CAAkC,EAAlC,EAAsC,IAAtC;AACD;AACF;;AAEDO,EAAAA,gBAAgB,GAAG;AACjB,WAAO,CAAC,KAAKT,KAAL,CAAWT,0BAAnB;AACD;;AApCoC;;AAuCvC,SAASoB,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLF,IAAAA,MAAM,EAAElB,oBAAoB,CAACoB,KAAD,CADvB;AAELX,IAAAA,oBAAoB,EAAEP,uBAAuB,CAACkB,KAAD,CAFxC;AAGLrB,IAAAA,0BAA0B,EAAEA,0BAA0B,CAACqB,KAAD,CAHjD;AAILb,IAAAA,aAAa,EAAEN,iCAAiC,CAACmB,KAAD;AAJ3C,GAAP;AAMD;;AAED,SAASC,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,QAAMZ,sBAAsB,GAAGZ,YAAY,CAACyB,WAAb,CAAyBC,OAAxD;AACA,SAAO5B,kBAAkB,CAAC;AAACc,IAAAA;AAAD,GAAD,EAA2BY,QAA3B,CAAzB;AACD;;AAED,eAAezB,OAAO,CAACsB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CjB,QAA7C,CAAf","sourcesContent":["import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport * as videoActions from \"../../store/actions/video\";\nimport {\n  allMostPopularVideosLoaded,\n  getMostPopularVideos,\n  getMostPopularVideosNextPageToken\n} from '../../store/reducers/videos';\nimport {getYoutubeLibraryLoaded} from '../../store/reducers/api';\nimport {VideoList} from '../../components/VideoList/VideoList';\n\nclass Trending extends React.Component {\n  componentDidMount() {\n    this.fetchTrendingVideos();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.youtubeLibraryLoaded !== this.props.youtubeLibraryLoaded) {\n      this.fetchTrendingVideos();\n    }\n  }\n\n  render() {\n    const loaderActive = this.shouldShowLoader();\n\n    return (<VideoList\n      bottomReachedCallback={this.fetchMoreVideos}\n      showLoader={loaderActive}\n      videos={this.props.videos}/>);\n  }\n\n\n  fetchMoreVideos = () => {\n    const {nextPageToken} = this.props;\n    if (this.props.youtubeLibraryLoaded && nextPageToken) {\n      this.props.fetchMostPopularVideos(12, true, nextPageToken);\n    }\n  };\n\n  fetchTrendingVideos() {\n    if (this.props.youtubeLibraryLoaded) {\n      this.props.fetchMostPopularVideos(20, true);\n    }\n  }\n\n  shouldShowLoader() {\n    return !this.props.allMostPopularVideosLoaded;\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    videos: getMostPopularVideos(state),\n    youtubeLibraryLoaded: getYoutubeLibraryLoaded(state),\n    allMostPopularVideosLoaded: allMostPopularVideosLoaded(state),\n    nextPageToken: getMostPopularVideosNextPageToken(state),\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  const fetchMostPopularVideos = videoActions.mostPopular.request;\n  return bindActionCreators({fetchMostPopularVideos}, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Trending);"]},"metadata":{},"sourceType":"module"}
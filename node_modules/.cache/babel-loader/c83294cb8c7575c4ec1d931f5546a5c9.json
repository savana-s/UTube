{"ast":null,"code":"var _jsxFileName = \"/Users/savanasathre/CodingApril/youtube-react-master/src/containers/Watch/Watch.js\";\nimport React from 'react';\nimport { bindActionCreators } from 'redux';\nimport * as watchActions from '../../store/actions/watch';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getYoutubeLibraryLoaded } from '../../store/reducers/api';\nimport WatchContent from './WatchContent/WatchContent';\nimport { getSearchParam } from '../../services/url';\nimport { getChannelId } from '../../store/reducers/videos';\nimport { getCommentNextPageToken } from '../../store/reducers/comments';\nimport * as commentActions from '../../store/actions/comment';\nexport class Watch extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.fetchMoreComments = () => {\n      if (this.props.nextPageToken) {\n        this.props.fetchCommentThread(this.getVideoId(), this.props.nextPageToken);\n      }\n    };\n  }\n\n  render() {\n    const videoId = this.getVideoId();\n    return /*#__PURE__*/React.createElement(WatchContent, {\n      videoId: videoId,\n      channelId: this.props.channelId,\n      bottomReachedCallback: this.fetchMoreComments,\n      nextPageToken: this.props.nextPageToken,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.youtubeLibraryLoaded) {\n      this.fetchWatchContent();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.youtubeLibraryLoaded !== prevProps.youtubeLibraryLoaded) {\n      this.fetchWatchContent();\n    }\n  }\n\n  getVideoId() {\n    return getSearchParam(this.props.location, 'v');\n  }\n\n  fetchWatchContent() {\n    const videoId = this.getVideoId();\n\n    if (!videoId) {\n      this.props.history.push('/');\n    }\n\n    this.props.fetchWatchDetails(videoId, this.props.channelId);\n  }\n\n}\n\nfunction mapStateToProps(state, props) {\n  return {\n    youtubeLibraryLoaded: getYoutubeLibraryLoaded(state),\n    channelId: getChannelId(state, props.location, 'v'),\n    nextPageToken: getCommentNextPageToken(state, props.location)\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  const fetchWatchDetails = watchActions.details.request;\n  const fetchCommentThread = commentActions.thread.request;\n  return bindActionCreators({\n    fetchWatchDetails,\n    fetchCommentThread\n  }, dispatch);\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Watch));","map":{"version":3,"sources":["/Users/savanasathre/CodingApril/youtube-react-master/src/containers/Watch/Watch.js"],"names":["React","bindActionCreators","watchActions","withRouter","connect","getYoutubeLibraryLoaded","WatchContent","getSearchParam","getChannelId","getCommentNextPageToken","commentActions","Watch","Component","fetchMoreComments","props","nextPageToken","fetchCommentThread","getVideoId","render","videoId","channelId","componentDidMount","youtubeLibraryLoaded","fetchWatchContent","componentDidUpdate","prevProps","location","history","push","fetchWatchDetails","mapStateToProps","state","mapDispatchToProps","dispatch","details","request","thread"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,kBAAR,QAAiC,OAAjC;AACA,OAAO,KAAKC,YAAZ,MAA8B,2BAA9B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,uBAAR,QAAsC,0BAAtC;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,SAAQC,cAAR,QAA6B,oBAA7B;AACA,SAAQC,YAAR,QAA2B,6BAA3B;AACA,SAAQC,uBAAR,QAAsC,+BAAtC;AACA,OAAO,KAAKC,cAAZ,MAAgC,6BAAhC;AAGA,OAAO,MAAMC,KAAN,SAAoBX,KAAK,CAACY,SAA1B,CAAoC;AAAA;AAAA;;AAAA,SAiCzCC,iBAjCyC,GAiCrB,MAAM;AACxB,UAAI,KAAKC,KAAL,CAAWC,aAAf,EAA8B;AAC5B,aAAKD,KAAL,CAAWE,kBAAX,CAA8B,KAAKC,UAAL,EAA9B,EAAiD,KAAKH,KAAL,CAAWC,aAA5D;AACD;AACF,KArCwC;AAAA;;AACzCG,EAAAA,MAAM,GAAG;AACP,UAAMC,OAAO,GAAG,KAAKF,UAAL,EAAhB;AACA,wBACE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAEE,OAAvB;AAAgC,MAAA,SAAS,EAAE,KAAKL,KAAL,CAAWM,SAAtD;AAAiE,MAAA,qBAAqB,EAAE,KAAKP,iBAA7F;AACc,MAAA,aAAa,EAAE,KAAKC,KAAL,CAAWC,aADxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAID;;AAEDM,EAAAA,iBAAiB,GAAG;AAClB,QAAI,KAAKP,KAAL,CAAWQ,oBAAf,EAAqC;AACnC,WAAKC,iBAAL;AACD;AACF;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAI,KAAKX,KAAL,CAAWQ,oBAAX,KAAoCG,SAAS,CAACH,oBAAlD,EAAwE;AACtE,WAAKC,iBAAL;AACD;AACF;;AAEDN,EAAAA,UAAU,GAAG;AACX,WAAOV,cAAc,CAAC,KAAKO,KAAL,CAAWY,QAAZ,EAAsB,GAAtB,CAArB;AACD;;AAEDH,EAAAA,iBAAiB,GAAG;AAClB,UAAMJ,OAAO,GAAG,KAAKF,UAAL,EAAhB;;AACA,QAAI,CAACE,OAAL,EAAc;AACZ,WAAKL,KAAL,CAAWa,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD;;AACD,SAAKd,KAAL,CAAWe,iBAAX,CAA6BV,OAA7B,EAAsC,KAAKL,KAAL,CAAWM,SAAjD;AACD;;AA/BwC;;AAwC3C,SAASU,eAAT,CAAyBC,KAAzB,EAAgCjB,KAAhC,EAAuC;AACrC,SAAO;AACLQ,IAAAA,oBAAoB,EAAEjB,uBAAuB,CAAC0B,KAAD,CADxC;AAELX,IAAAA,SAAS,EAAEZ,YAAY,CAACuB,KAAD,EAAQjB,KAAK,CAACY,QAAd,EAAwB,GAAxB,CAFlB;AAGLX,IAAAA,aAAa,EAAEN,uBAAuB,CAACsB,KAAD,EAAQjB,KAAK,CAACY,QAAd;AAHjC,GAAP;AAKD;;AAED,SAASM,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,QAAMJ,iBAAiB,GAAG3B,YAAY,CAACgC,OAAb,CAAqBC,OAA/C;AACA,QAAMnB,kBAAkB,GAAGN,cAAc,CAAC0B,MAAf,CAAsBD,OAAjD;AACA,SAAOlC,kBAAkB,CAAC;AAAC4B,IAAAA,iBAAD;AAAoBb,IAAAA;AAApB,GAAD,EAA0CiB,QAA1C,CAAzB;AACD;;AAED,eAAe9B,UAAU,CAACC,OAAO,CAAC0B,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CrB,KAA7C,CAAD,CAAzB","sourcesContent":["import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport * as watchActions from '../../store/actions/watch';\nimport {withRouter} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {getYoutubeLibraryLoaded} from '../../store/reducers/api';\nimport WatchContent from './WatchContent/WatchContent';\nimport {getSearchParam} from '../../services/url';\nimport {getChannelId} from '../../store/reducers/videos';\nimport {getCommentNextPageToken} from '../../store/reducers/comments';\nimport * as commentActions from '../../store/actions/comment';\n\n\nexport class Watch extends React.Component {\n  render() {\n    const videoId = this.getVideoId();\n    return (\n      <WatchContent videoId={videoId} channelId={this.props.channelId} bottomReachedCallback={this.fetchMoreComments}\n                    nextPageToken={this.props.nextPageToken}/>\n    );\n  }\n\n  componentDidMount() {\n    if (this.props.youtubeLibraryLoaded) {\n      this.fetchWatchContent();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.youtubeLibraryLoaded !== prevProps.youtubeLibraryLoaded) {\n      this.fetchWatchContent();\n    }\n  }\n\n  getVideoId() {\n    return getSearchParam(this.props.location, 'v');\n  }\n\n  fetchWatchContent() {\n    const videoId = this.getVideoId();\n    if (!videoId) {\n      this.props.history.push('/');\n    }\n    this.props.fetchWatchDetails(videoId, this.props.channelId);\n  }\n\n  fetchMoreComments = () => {\n    if (this.props.nextPageToken) {\n      this.props.fetchCommentThread(this.getVideoId(), this.props.nextPageToken);\n    }\n  };\n}\n\nfunction mapStateToProps(state, props) {\n  return {\n    youtubeLibraryLoaded: getYoutubeLibraryLoaded(state),\n    channelId: getChannelId(state, props.location, 'v'),\n    nextPageToken: getCommentNextPageToken(state, props.location),\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  const fetchWatchDetails = watchActions.details.request;\n  const fetchCommentThread = commentActions.thread.request;\n  return bindActionCreators({fetchWatchDetails, fetchCommentThread}, dispatch);\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Watch));"]},"metadata":{},"sourceType":"module"}